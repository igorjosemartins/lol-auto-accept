import { Agent } from 'https';
/**
 * A helper class for instantiating an https.Agent from a certificate string or `Credentials` object.
 *
 * @param credential - Either a certificate string or an object with a certificate property (e.g. `Credentials`)
 * @param options - Additional, non-essential, options to pass to the https.Agent constructor.
 */
export class HttpsAgent extends Agent {
    constructor(credential, options) {
        const certificate = typeof credential === 'string' ? credential : credential?.certificate;
        super({
            keepAlive: true,
            maxSockets: 1,
            ...options,
            rejectUnauthorized: !!certificate,
            ca: options?.ca ?? certificate
        });
    }
}
