"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HttpsAgent = void 0;
const https_1 = require("https");
/**
 * A helper class for instantiating an https.Agent from a certificate string or `Credentials` object.
 *
 * @param credential - Either a certificate string or an object with a certificate property (e.g. `Credentials`)
 * @param options - Additional, non-essential, options to pass to the https.Agent constructor.
 */
class HttpsAgent extends https_1.Agent {
    constructor(credential, options) {
        const certificate = typeof credential === 'string' ? credential : credential?.certificate;
        super({
            keepAlive: true,
            maxSockets: 1,
            ...options,
            rejectUnauthorized: !!certificate,
            ca: options?.ca ?? certificate
        });
    }
}
exports.HttpsAgent = HttpsAgent;
