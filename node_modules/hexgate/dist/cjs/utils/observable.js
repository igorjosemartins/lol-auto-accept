"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Observable = void 0;
class Observable {
    #observers = new Set();
    #value;
    constructor(value) {
        this.#value = value;
    }
    get value() {
        return this.#value;
    }
    set value(value) {
        const prev = this.#value;
        this.#value = value;
        this.#observers.forEach((observer) => observer(value, prev));
    }
    subscribe = (observer) => {
        this.#observers.add(observer);
        return () => {
            this.#observers.delete(observer);
        };
    };
}
exports.Observable = Observable;
